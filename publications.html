<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Publications - Ashique Ali Thuppilikkat</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <style>
    body { font-family: 'Poppins', sans-serif; }
    .card { transition: transform 0.3s; }
    .card:hover { transform: scale(1.05); }
    [data-theme="dark"] {
      --bg-body: #1F2937;
      --text-primary: #E0E0E0;
      --bg-card: #374151;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800" data-theme="light">
  <!-- Navbar (same as above) -->
  <nav class="bg-gray-800 text-white sticky top-0 z-10">
    <div class="container mx-auto flex justify-between items-center p-4">
      <a href="/" class="text-2xl font-semibold">Ashique Ali Thuppilikkat</a>
      <button id="hamburger" class="md:hidden text-2xl">☰</button>
      <ul id="navMenu" class="flex md:flex space-x-6 hidden md:block">
        <li><a href="/index.html" class="hover:text-emerald-400">Home</a></li>
        <li><a href="/about.html" class="hover:text-emerald-400">About</a></li>
        <li><a href="/publications.html" class="hover:text-emerald-400">Publications</a></li>
        <li><a href="/research.html" class="hover:text-emerald-400">Research</a></li>
        <li><a href="/contact.html" class="hover:text-emerald-400">Contact</a></li>
      </ul>
      <button class="theme-toggle fixed top-4 right-4 bg-emerald-600 text-white p-2 rounded"><i class="fas fa-moon"></i></button>
    </div>
  </nav>

  <!-- Publications Section -->
  <section class="container mx-auto py-8" data-aos="fade-up">
    <div class="flex flex-col md:flex-row gap-6">
      <!-- Filter Sidebar -->
      <aside class="md:w-1/4 bg-white p-6 rounded-lg shadow card">
        <h3 class="text-xl font-semibold border-b-2 border-emerald-200 pb-2">Filter Publications</h3>
        <div class="filter-section mt-4">
          <h4 class="text-lg font-medium">Categories</h4>
          <label class="block"><input type="checkbox" class="filter-category" value="peer-reviewed" checked> Peer-Reviewed Publications</label>
          <label class="block"><input type="checkbox" class="filter-category" value="extended-abstracts" checked> Peer-Reviewed Extended Abstracts</label>
          <label class="block"><input type="checkbox" class="filter-category" value="book-chapters" checked> Book Chapters</label>
          <label class="block"><input type="checkbox" class="filter-category" value="public-facing" checked> Public-Facing Scholarship</label>
          <select id="sort-year" class="mt-4 p-2 border rounded">
            <option value="desc">Sort by Year (Newest First)</option>
            <option value="asc">Sort by Year (Oldest First)</option>
          </select>
        </div>
      </aside>
      <!-- Publications -->
      <div class="md:w-3/4">
        <h2 class="text-2xl font-semibold border-b-2 border-emerald-200 pb-2">Publications</h2>
        <div id="publications-container" class="mt-4"></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white text-center py-4">
    <p>&copy; 2025 Ashique Ali Thuppilikkat. All rights reserved.</p>
  </footer>

  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    AOS.init();
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('navMenu');
    const themeToggle = document.querySelector('.theme-toggle');
    const container = document.getElementById('publications-container');
    const checkboxes = document.querySelectorAll('.filter-category');
    const sortYear = document.getElementById('sort-year');

    // Hamburger menu toggle
    hamburger.addEventListener('click', () => {
      navMenu.classList.toggle('hidden');
      navMenu.classList.toggle('block');
    });

    // Dark mode toggle
    themeToggle.addEventListener('click', () => {
      document.body.dataset.theme = document.body.dataset.theme === 'dark' ? 'light' : 'dark';
      themeToggle.innerHTML = document.body.dataset.theme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    });

    // Publications data (same as provided)
    const publications = [
      {
        year: 2025,
        category: "peer-reviewed",
        html: `
          <div class="publication-item bg-white p-4 rounded-lg shadow card mb-4" data-year="2025" data-category="peer-reviewed">
            <span class="pub-date text-emerald-600 font-bold">2025</span>
            <a href="https://dl.acm.org/doi/full/10.1145/3706598.3713266" target="_blank" class="text-lg font-semibold">Generative Politics and Labour Markets: Unions and Collective Life in a City in Crisis</a><br>
            <p>Authors: Ashique Ali Thuppilikkat, Dipsita Dhar, Noopur Raval, Priyank Chandra</p>
            <p>Tags: Digital Labour, Gig Work, Urban HCI, Trade Union, Resistance</p>
            <button class="toggle-citation bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-500" data-target="citation-1">Show Citation</button>
            <a href="publications/thuppilikkat-2025-generative.pdf" target="_blank" class="bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-500">Download PDF</a>
            <a href="bib/thuppilikkat2025generative.bib" download class="bg-emerald-600 text-white px-4 py-2 rounded hover:bg-emerald-500">Download BibTeX</a>
            <div id="citation-1" class="mt-2 hidden">
              <p>Thuppilikkat, Ashique Ali, Dipsita Dhar, Noopur Raval, and Priyank Chandra. 2025. “Generative Politics and Labour Markets: Unions and Collective Life in a City in Crisis.” In <i>Proceedings of the 2025 CHI Conference on Human Factors in Computing Systems</i>, 1–18. <a href="https://dl.acm.org/doi/full/10.1145/3706598.3713266" target="_blank">https://dl.acm.org/doi/full/10.1145/3706598.3713266</a>.</p>
            </div>
          </div>`
      },
      // Add remaining publications (omitted for brevity; use your existing array)
    ];

    function updatePublications() {
      const selectedCategories = Array.from(checkboxes)
        .filter(checkbox => checkbox.checked)
        .map(checkbox => checkbox.value);
      const sortOrder = sortYear.value;
      const years = [...new Set(publications.map(pub => pub.year))].sort((a, b) => sortOrder === 'asc' ? a - b : b - a);
      container.innerHTML = '';
      years.forEach(year => {
        const yearPublications = publications.filter(pub => pub.year === year && selectedCategories.includes(pub.category));
        if (yearPublications.length > 0) {
          const yearSection = document.createElement('div');
          yearSection.className = 'subcategory mb-6';
          yearSection.innerHTML = `<h3 class="text-xl font-semibold">${year}</h3>`;
          yearPublications.forEach(pub => {
            yearSection.innerHTML += pub.html;
          });
          container.appendChild(yearSection);
        }
      });
      document.querySelectorAll('.toggle-citation').forEach(button => {
        button.addEventListener('click', () => {
          const targetId = button.getAttribute('data-target');
          const citation = document.getElementById(targetId);
          citation.classList.toggle('hidden');
          button.textContent = citation.classList.contains('hidden') ? 'Show Citation' : 'Hide Citation';
        });
      });
    }

    sortYear.addEventListener('change', updatePublications);
    checkboxes.forEach(checkbox => checkbox.addEventListener('change', updatePublications));
    updatePublications();
  </script>
</body>
</html>
